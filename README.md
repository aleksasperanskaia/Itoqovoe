# Переродажа товара

Эта программа позволяет оптимизировать выбор товаров для максимизации прибыли, учитывая заданный бюджет и грузоподъёмность грузовика. 
Вы можете ввести список доступных товаров с их характеристиками, после чего программа рассчитает наиболее выгодный набор для перевозки.

---

## Файлы

- `main.cpp`

Основной файл программы. Предоставляет интерфейс для ввода данных о товарах, рассчитывает оптимальный выбор и выводит результаты.

- `pribil.cpp`

Содержит реализацию класса ProfitCalculator, который отвечает за добавление товаров и расчет максимальной прибыли с помощью динамического программирования.

- `pribil.h`

Заголовочный файл, содержащий описание структуры Item и класса ProfitCalculator.

- `test.cpp` `doctest.h`
Тесты, написанные с использованием библиотеки `doctest`.
---

## Как работает программа

1. Пользователь вводит доступный бюджет, грузоподъёмность и количество товаров.

2. Для каждого товара вводятся:

  - Название.

  - Вес одной единицы.

  - Оптовая цена (цена покупки).

  - Цена перепродажи (должна быть больше оптовой цены).

  - Доступное количество товара на складе.

3. Программа рассчитывает оптимальный набор товаров для перевозки, максимизирующий прибыль, не превышая бюджет и грузоподъёмность.

4. Выводится список выбранных товаров, их количество и общая прибыль.

 ---

 ## Сборка и запуск

Вы можете собрать проект несколькими способами: 

### 1. Сборка в CLion

1. Откройте проект в CLion.
2. Нажмите кнопку **Run** для автоматической сборки и запуска программы.

### 2. Сборка вручную через терминал

---

## Пример работы

### Ввод данных:
```bash
Введите доступный бюджет: 10000
Введите максимальную грузоподъёмность фуры: 2000
Введите количество доступных товаров: 2

Товар #1
Введите название товара: Товар1
Введите вес товара: 10
Введите оптовую цену товара: 100
Введите цену перепродажи товара (должна быть больше оптовой): 150
Введите доступное количество товара: 50

Товар #2
Введите название товара: Товар2
Введите вес товара: 20
Введите оптовую цену товара: 200
Введите цену перепродажи товара (должна быть больше оптовой): 300
Введите доступное количество товара: 30
```

### Вывод 
```bash
Выбранные товары:
Товар: Товар1, количество: 50, прибыль: 2500
Товар: Товар2, количество: 30, прибыль: 3000

Общая прибыль: 5500
```
---

## Структура файлов

1. `main.cpp`

  - Функции для валидации пользовательского ввода.

  - Основная логика взаимодействия с пользователем.

  - Вызов методов класса `ProfitCalculator` для добавления товаров и расчета максимальной прибыли.

2. `pribil.cpp`

- Реализация методов:

    - `addItem`: добавляет товар в список.

    - `maximizeProfit`: рассчитывает оптимальный набор товаров с использованием динамического программирования.

    - `validateInputs`: проверяет корректность входных данных.

3. `pribil.h`

  - Описание структуры `Item` с атрибутами товара (название, вес, цена и количество).

  - Описание класса `ProfitCalculator`.
---
## Требования

- Компилятор C++ с поддержкой C++11 или выше.

- CMake для сборки проекта.
---
## Возможные ошибки

1. "Budget and capacity must be positive numbers"

    - Убедитесь, что введены положительные значения бюджета и грузоподъёмности.

2. "Resale price cannot be less than or equal to wholesale price"

    - Проверьте, чтобы цена перепродажи товара была больше оптовой.

3. "Product list is empty. Add at least one product"

    - Убедитесь, что добавлен хотя бы один товар.
---

## Тестирование

### Для проверки функциональности программы выполните следующие шаги:

1. Ручное тестирование:

    - Введите тестовые данные, описанные в разделе "Пример работы".

    - Убедитесь, что результаты соответствуют ожидаемым значениям.

2. Тестирование с использованием `doctest.txt`:

В файле `doctest.txt` содержатся тестовые случаи для проверки функциональности программы.

Для запуска тестов выполните команду:

```bash
./ProfitCalculator < doctest.txt
```
Проверьте, что вывод программы соответствует ожидаемым результатам.
